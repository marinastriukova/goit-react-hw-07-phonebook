(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{13:function(t,e,n){t.exports={form:"Form_form__3BJXs",formLabel:"Form_formLabel__34xC1",formInput:"Form_formInput__1lL9p",formButton:"Form_formButton__2Gl0L"}},20:function(t,e,n){t.exports={list:"ContactsList_list__38GVd","item-appear":"ContactsList_item-appear__2iLEb","item-appearActive":"ContactsList_item-appearActive__2UXLl","item-enter":"ContactsList_item-enter__1kvxy","item-enterActive":"ContactsList_item-enterActive__1QBIM","item-exit":"ContactsList_item-exit__3jzTr","item-exitActive":"ContactsList_item-exitActive__1IhcO",items:"ContactsList_items__2lctU",button:"ContactsList_button__hZj8Z"}},26:function(t,e,n){t.exports={section:"Section_section__2ahbW",title:"Section_title__3bi72",appear:"Section_appear__1AW4F",appearActive:"Section_appearActive__9gGEY"}},29:function(t,e,n){t.exports={label:"Filter_label__3K1hf",input:"Filter_input__2c2YE"}},44:function(t,e,n){t.exports={alert:"ErrorMessage_alert__j1ol1"}},54:function(t,e,n){},55:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(11),o=n.n(a),r=(n(54),n(55),n(7)),s=n(40),i=n(41),u=n(48),l=n(47),b=n(26),m=n.n(b),j=n(82),h=n(9),d=n.n(h),f=n(1);var p=function(t){var e=t.title,n=t.children;return Object(f.jsxs)("div",{className:m.a.section,children:[Object(f.jsx)(j.a,{in:!0,appear:!0,timeout:500,classNames:d.a,unmountOnExit:!0,children:Object(f.jsx)("h1",{className:m.a.title,children:e})}),n]})},O=n(13),_=n.n(O);function x(t){var e=t.name,n=void 0===e?"":e,c=t.number,a=void 0===c?0:c,o=t.onChangeInput,r=t.onSubmitForm;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:_.a.form,onSubmit:r,children:[Object(f.jsxs)("label",{className:_.a.formLabel,children:["Name",Object(f.jsx)("input",{name:"name",type:"text",className:_.a.formInput,value:n,onChange:o,required:!0})]}),Object(f.jsxs)("label",{className:_.a.formLabel,children:["Number",Object(f.jsx)("input",{name:"number",type:"text",className:_.a.formInput,value:a,onChange:o,required:!0})]}),Object(f.jsx)("button",{type:"submit",className:_.a.formButton,children:"Add contact"})]})})}var C=n(20),v=n.n(C),g=n(83),k=n(12),S=n(28),A=n.n(S),I=n(43),E=n(21),F=n.n(E),L=n(5),N={fetchItemsRequest:Object(L.b)("phonebook/fetchItemsRequest"),fetchItemsSuccess:Object(L.b)("phonebook/fetchItemsSuccess"),fetchItemsError:Object(L.b)("phonebook/fetchItemsError"),addContactRequest:Object(L.b)("phonebook/addContactRequest"),addContactSuccess:Object(L.b)("phonebook/addContactSuccess"),addContactError:Object(L.b)("phonebook/addContactError"),deleteContactRequest:Object(L.b)("phonebook/deleteContactRequest"),deleteContactSuccess:Object(L.b)("phonebook/deleteContactSuccess"),deleteContactError:Object(L.b)("phonebook/deleteContactError"),changeFilter:Object(L.b)("phonebook/changeFilter")},y=N.fetchItemsRequest,q=N.fetchItemsSuccess,R=N.fetchItemsError,w=N.addContactRequest,P=N.addContactSuccess,B=N.addContactError,D=N.deleteContactRequest,G=N.deleteContactSuccess,M=N.deleteContactError,V=function(){return function(){var t=Object(I.a)(A.a.mark((function t(e){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(y()),F.a.get("http://localhost:4040/contacts").then((function(t){var n=t.data;return e(q(n))})).catch((function(t){return e(R(t.message))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=function(t,e){return function(n){var c={name:t,number:e};n(w()),F.a.post("http://localhost:4040/contacts",c).then((function(t){var e=t.data;return n(P(e))})).catch((function(t){return n(B(t.message))}))}},T=function(t){return function(e){e(D()),F.a.delete("http://localhost:4040/contacts/".concat(t)).then((function(){return e(G(t))})).catch((function(t){return e(M(t.message))}))}},z=n(18),W=function(t){return t.contacts.items},X=function(t){return t.contacts.filter},U={getAllContacts:W,getFilter:X,getLoading:function(t){return t.contacts.loading},getVisibleContacts:Object(z.a)([W,X],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))};var Y=Object(k.b)((function(t){return{contacts:U.getVisibleContacts(t)}}),(function(t){return{onRemove:function(e){return t(T(e))}}}))((function(t){var e=t.contacts,n=t.onRemove;return Object(f.jsx)(g.a,{component:"ul",className:v.a.list,children:0===e.length?Object(f.jsx)(j.a,{in:0===e.length,timeout:250,classNames:d.a,unmountOnExit:!0,children:Object(f.jsx)("p",{children:"Add contacts please"})}):e.map((function(t){return Object(f.jsx)(j.a,{in:!0,appear:!0,timeout:250,classNames:d.a,unmountOnExit:!0,children:Object(f.jsxs)("li",{className:v.a.items,children:[Object(f.jsxs)("p",{children:[Object(f.jsxs)("span",{children:[t.name,": "]}),Object(f.jsx)("span",{children:t.number})]}),Object(f.jsx)("button",{className:v.a.button,onClick:function(){return n(t.id)},children:"Delete"})]})},t.id)}))})})),Z=n(29),H=n.n(Z);var K=Object(k.b)((function(t){return{value:U.getFilter(t),items:U.getAllContacts(t)}}),(function(t){return{onChangeFilter:function(e){return t(N.changeFilter(e))}}}))((function(t){var e=t.value,n=t.onChangeFilter,c=t.items;return Object(f.jsx)(j.a,{in:c.length>0,timeout:250,classNames:d.a,unmountOnExit:!0,children:Object(f.jsxs)("label",{className:H.a.label,children:["Find contacts by name",Object(f.jsx)("input",{type:"text",value:e,onChange:function(t){return n(t.target.value)},className:H.a.input})]})})})),Q=n(44),$=n.n(Q);function tt(){return Object(f.jsx)("p",{className:$.a.alert,children:"This contact is already in phonebook"})}var et=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",filter:"",error:""},t.onInputChange=function(e){t.setState(Object(r.a)({},e.target.name,e.target.value))},t.submitForm=function(e){if(e.preventDefault(),t.props.contacts.find((function(e){return e.name.toLowerCase()===t.state.name.toLowerCase()})))return t.setState({error:!0}),void setTimeout((function(){t.setState({error:!1})}),2e3);var n=t.state,c=n.name,a=n.number;t.props.onAddContact(c,a),t.reset()},t.reset=function(){t.setState({name:"",number:""})},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(p,{title:"Phonebook",children:Object(f.jsx)(x,{name:this.state.name,number:this.state.number,onChangeInput:this.onInputChange,onSubmitForm:this.submitForm})}),Object(f.jsxs)(p,{title:"Contacts",children:[Object(f.jsx)(j.a,{timeout:250,classNames:d.a,children:Object(f.jsx)(K,{})}),Object(f.jsx)(j.a,{timeout:500,children:Object(f.jsx)(Y,{})}),Object(f.jsx)(j.a,{in:!0===this.state.error,timeout:1e3,classNames:d.a,unmountOnExit:!0,children:Object(f.jsx)(tt,{})})]})]})}}]),n}(c.Component),nt=Object(k.b)((function(t){return{contacts:U.getAllContacts(t)}}),(function(t){return{fetchContacts:function(){return t(V())},onAddContact:function(e,n){return t(J(e,n))}}}))(et);var ct,at,ot=function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(nt,{})})},rt=n(19),st=n(14),it=n(45),ut=n.n(it),lt=n(6),bt=N.fetchItemsRequest,mt=N.fetchItemsSuccess,jt=N.fetchItemsError,ht=N.addContactRequest,dt=N.addContactSuccess,ft=N.addContactError,pt=N.deleteContactRequest,Ot=N.deleteContactSuccess,_t=N.deleteContactError,xt=N.changeFilter,Ct=Object(L.c)([],(ct={},Object(r.a)(ct,mt,(function(t,e){return e.payload})),Object(r.a)(ct,dt,(function(t,e){var n=e.payload;return[].concat(Object(rt.a)(t),[n])})),Object(r.a)(ct,Ot,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),ct)),vt=Object(L.c)("",Object(r.a)({},xt,(function(t,e){return e.payload}))),gt=Object(L.c)(!1,(at={},Object(r.a)(at,bt,(function(){return!0})),Object(r.a)(at,mt,(function(){return!1})),Object(r.a)(at,jt,(function(){return!1})),Object(r.a)(at,ht,(function(){return!0})),Object(r.a)(at,dt,(function(){return!1})),Object(r.a)(at,ft,(function(){return!1})),Object(r.a)(at,pt,(function(){return!0})),Object(r.a)(at,Ot,(function(){return!1})),Object(r.a)(at,_t,(function(){return!1})),at)),kt=Object(lt.c)({items:Ct,filter:vt,loading:gt}),St=[].concat(Object(rt.a)(Object(L.d)({serializableCheck:{ignoredActions:[st.a,st.f,st.b,st.c,st.d,st.e]}})),[ut.a]),At=Object(L.a)({reducer:{contacts:kt},middleware:St,devTools:!1}),It=n(46);o.a.render(Object(f.jsx)(k.a,{store:At,children:Object(f.jsx)(It.a,{children:Object(f.jsx)(ot,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={appear:"Phonebook_appear__1MDGH",appearActive:"Phonebook_appearActive__kMPGP",enter:"Phonebook_enter__2xd38",enterActive:"Phonebook_enterActive__3DzVI",exit:"Phonebook_exit__2WkVS",exitActive:"Phonebook_exitActive__XJrSv"}}},[[81,1,2]]]);
//# sourceMappingURL=main.bc606431.chunk.js.map